<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2299.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s11 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s12 {font-kerning: none}
    span.s13 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s14 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"es"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Eliminador de Posts de Página de Facebook</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"manifest"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"manifest.json"</span><span class="s3">&gt;</span><span class="s4"> </span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"theme-color"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"#3b82f6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"apple-touch-icon"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"icon-192x192.png"</span><span class="s3">&gt;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Scrollbar personalizado para mejor estética */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">8px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar-track</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #f1f1f1</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">10px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar-thumb</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #888</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">10px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar-thumb:hover</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #555</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.loader</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #f3f3f3</span><span class="s7">;</span><span class="s1"> </span><span class="s10">/* Gris claro */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-top:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #3498db</span><span class="s7">;</span><span class="s1"> </span><span class="s10">/* Azul */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">24px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">24px</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">spin</span><span class="s4"> </span><span class="s9">1s</span><span class="s4"> </span><span class="s1">linear</span><span class="s4"> </span><span class="s1">infinite</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">inline-block</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-left:</span><span class="s1"> </span><span class="s9">10px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">spin</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">360deg</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-100 min-h-screen flex flex-col items-center justify-center p-4"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-white p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-2xl"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">header</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-8 text-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-3xl font-bold text-blue-600"</span><span class="s3">&gt;</span><span class="s1">Eliminador de Posts de Página de Facebook</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-gray-600 mt-2"</span><span class="s3">&gt;</span><span class="s1">Administra y elimina publicaciones de tus Páginas de Facebook.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">header</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"accessTokenSection"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s1"> </span><span class="s2">for</span><span class="s3">=</span><span class="s5">"accessToken"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"block text-sm font-medium text-gray-700 mb-1"</span><span class="s3">&gt;</span><span class="s1">Token de Acceso de Usuario de Facebook (v12.0):</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"password"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"accessToken"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Pega tu Token de Acceso de Usuario aquí"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-xs text-red-500 mt-1"</span><span class="s3">&gt;&lt;</span><span class="s6">strong</span><span class="s3">&gt;</span><span class="s1">Advertencia de Seguridad:</span><span class="s3">&lt;/</span><span class="s6">strong</span><span class="s3">&gt;</span><span class="s1"> No compartas este token. Asegúrate de que tus usuarios comprendan la importancia de la seguridad del token.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"fetchPagesBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-3 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition duration-150 ease-in-out flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Obtener mis Páginas</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"pagesLoader"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loader hidden ml-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">section</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"pageSelectionSection"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-6 hidden"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"pagesSelect"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block text-sm font-medium text-gray-700 mb-1"</span><span class="s3">&gt;</span><span class="s4">Selecciona una Página (</span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"pageCount"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4"> encontradas):</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"pagesSelect"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"</span><span class="s3">&gt;&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"selectPageBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-3 w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition duration-150 ease-in-out"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Cargar Información y Posts de la Página</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">section</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"pageInfoSection"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-6 hidden p-4 bg-gray-50 rounded-lg border border-gray-200"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-semibold text-gray-800 mb-2"</span><span class="s3">&gt;</span><span class="s4">Información de la Página</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"pageInfoContent"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm text-gray-700 space-y-1"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">section</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"postDeletionSection"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-6 hidden"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-semibold text-gray-800 mb-3"</span><span class="s3">&gt;</span><span class="s4">Eliminar Publicaciones</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"postTypeSelect"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block text-sm font-medium text-gray-700 mb-1"</span><span class="s3">&gt;</span><span class="s4">Tipo de post a eliminar:</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"postTypeSelect"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"all"</span><span class="s3">&gt;</span><span class="s1">Todas las publicaciones</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"photo"</span><span class="s3">&gt;</span><span class="s1">Fotos (Basado en adjunto)</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"link"</span><span class="s3">&gt;</span><span class="s1">Enlaces (Basado en adjunto)</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"video"</span><span class="s3">&gt;</span><span class="s1">Videos (Basado en adjunto)</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"text"</span><span class="s3">&gt;</span><span class="s1">Solo Texto (Sin adjuntos detectables)</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s1"> </span><span class="s2">for</span><span class="s3">=</span><span class="s5">"dateLimitInput"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"block text-sm font-medium text-gray-700 mb-1"</span><span class="s3">&gt;</span><span class="s1">Eliminar posts publicados ANTES DE (AAAA-MM-DD):</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"date"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"dateLimitInput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"fetchPostsToDeleteBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-3 px-4 rounded-lg shadow-md transition duration-150 ease-in-out mb-2 flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Previsualizar Posts a Eliminar</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"fetchPostsLoader"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loader hidden ml-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"deletePostsBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition duration-150 ease-in-out hidden flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Eliminar Posts Seleccionados</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"deleteLoader"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loader hidden ml-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">section</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"logSection"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-6 p-4 bg-gray-800 text-white rounded-lg shadow-inner max-h-60 overflow-y-auto text-xs font-mono"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-lg font-semibold text-gray-200 mb-2 sticky top-0 bg-gray-800 py-1"</span><span class="s3">&gt;</span><span class="s4">Registro</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"logContent"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>¡Bienvenido! Ingresa tu token de acceso para comenzar. (Usando API v12.0 - Campos Estrictos)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">section</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">footer</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center text-gray-500 mt-8 text-sm"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">Asegúrate de que el token de acceso tenga los permisos 'pages_manage_posts' y 'pages_read_engagement'.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">Esta herramienta realiza operaciones del lado del cliente. No se almacenan datos en ningún servidor.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">footer</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Service worker básico para PWA (puede expandirse)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s8">'serviceWorker'</span><span class="s1"> </span><span class="s11">in</span><span class="s1"> navigator</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>navigator</span><span class="s7">.</span><span class="s1">serviceWorker</span><span class="s7">.</span><span class="s1">register</span><span class="s7">(</span><span class="s8">'./sw.js'</span><span class="s7">)</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">.</span><span class="s4">then</span><span class="s7">(</span><span class="s4">reg </span><span class="s7">=&gt;</span><span class="s4"> console</span><span class="s7">.</span><span class="s4">log</span><span class="s7">(</span><span class="s1">'Service Worker registrado exitosamente'</span><span class="s7">,</span><span class="s4"> reg</span><span class="s7">))</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">.</span><span class="s11">catch</span><span class="s7">(</span><span class="s1">err </span><span class="s7">=&gt;</span><span class="s1"> console</span><span class="s7">.</span><span class="s1">error</span><span class="s7">(</span><span class="s8">'Error al registrar Service Worker:'</span><span class="s7">,</span><span class="s1"> err</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Configuración ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> </span><span class="s13">API_VERSION</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'v12.0'</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s4"> </span><span class="s13">BASE_URL</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`https://graph.facebook.com/</span><span class="s7">${</span><span class="s13">API_VERSION</span><span class="s7">}</span><span class="s1">`</span><span class="s7">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s4"> </span><span class="s1">POST_FETCH_LIMIT</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s14">50</span><span class="s7">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Elementos DOM ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> accessTokenInput </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'accessToken'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> fetchPagesBtn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'fetchPagesBtn'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> pagesLoader </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'pagesLoader'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> pageSelectionSection </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'pageSelectionSection'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> pagesSelect </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'pagesSelect'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> pageCountSpan </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'pageCount'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> selectPageBtn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'selectPageBtn'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> pageInfoSection </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'pageInfoSection'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> pageInfoContent </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'pageInfoContent'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> postDeletionSection </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'postDeletionSection'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> postTypeSelect </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'postTypeSelect'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> dateLimitInput </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'dateLimitInput'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> fetchPostsToDeleteBtn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'fetchPostsToDeleteBtn'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> fetchPostsLoader </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'fetchPostsLoader'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> deletePostsBtn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'deletePostsBtn'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> deleteLoader </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'deleteLoader'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> logContent </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'logContent'</span><span class="s7">);</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Estado Global ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> userAccessToken </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> selectedPageId </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> selectedPageAccessToken </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> postsToDelete </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Funciones Utilitarias ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> logMessage</span><span class="s7">(</span><span class="s1">message</span><span class="s7">,</span><span class="s1"> type </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'info'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> timestamp </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Date</span><span class="s7">().</span><span class="s1">toLocaleTimeString</span><span class="s7">(</span><span class="s8">'es-ES'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'p'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>p</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`[</span><span class="s7">${</span><span class="s1">timestamp</span><span class="s7">}</span><span class="s8">] </span><span class="s7">${</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'error'</span><span class="s7">)</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-red-400'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'success'</span><span class="s7">)</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-green-400'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'warning'</span><span class="s7">)</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-yellow-400'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>logContent</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">p</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>logContent</span><span class="s7">.</span><span class="s1">scrollTop </span><span class="s7">=</span><span class="s1"> logContent</span><span class="s7">.</span><span class="s1">scrollHeight</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> makeApiCall</span><span class="s7">(</span><span class="s1">endpoint</span><span class="s7">,</span><span class="s1"> params </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{},</span><span class="s1"> method </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'GET'</span><span class="s7">,</span><span class="s1"> body </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">,</span><span class="s1"> tokenToUse </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> token </span><span class="s7">=</span><span class="s1"> tokenToUse </span><span class="s7">||</span><span class="s1"> selectedPageAccessToken </span><span class="s7">||</span><span class="s1"> userAccessToken</span><span class="s7">;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">token</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">'Falta el token de acceso para la llamada API.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'error'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">throw</span><span class="s4"> </span><span class="s11">new</span><span class="s4"> </span><span class="s13">Error</span><span class="s7">(</span><span class="s1">'Falta el token de acceso.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> allParams </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s7">...</span><span class="s1">params </span><span class="s7">};</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>allParams</span><span class="s7">.</span><span class="s1">access_token </span><span class="s7">=</span><span class="s1"> token</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> queryString </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">URLSearchParams</span><span class="s7">(</span><span class="s1">allParams</span><span class="s7">).</span><span class="s1">toString</span><span class="s7">();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> urlToFetch</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s4"> </span><span class="s7">(</span><span class="s4">endpoint</span><span class="s7">.</span><span class="s4">startsWith</span><span class="s7">(</span><span class="s1">'https://graph.facebook.com'</span><span class="s7">)</span><span class="s4"> </span><span class="s7">||</span><span class="s4"> endpoint</span><span class="s7">.</span><span class="s4">startsWith</span><span class="s7">(</span><span class="s1">'http://graph.facebook.com'</span><span class="s7">))</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> tempUrl </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">URL</span><span class="s7">(</span><span class="s1">endpoint</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">tempUrl</span><span class="s7">.</span><span class="s1">searchParams</span><span class="s7">.</span><span class="s1">has</span><span class="s7">(</span><span class="s8">'access_token'</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>tempUrl</span><span class="s7">.</span><span class="s1">searchParams</span><span class="s7">.</span><span class="s11">set</span><span class="s7">(</span><span class="s8">'access_token'</span><span class="s7">,</span><span class="s1"> token</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>urlToFetch </span><span class="s7">=</span><span class="s1"> tempUrl</span><span class="s7">.</span><span class="s1">toString</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>urlToFetch </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s13">BASE_URL</span><span class="s7">}${</span><span class="s1">endpoint</span><span class="s7">}</span><span class="s8">?</span><span class="s7">${</span><span class="s1">queryString</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> options </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> method </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> response </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> fetch</span><span class="s7">(</span><span class="s1">urlToFetch</span><span class="s7">,</span><span class="s1"> options</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">json</span><span class="s7">();</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">data</span><span class="s7">.</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> logEndpoint </span><span class="s7">=</span><span class="s1"> endpoint</span><span class="s7">.</span><span class="s1">startsWith</span><span class="s7">(</span><span class="s8">'http'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> endpoint</span><span class="s7">.</span><span class="s1">split</span><span class="s7">(</span><span class="s8">'?'</span><span class="s7">)[</span><span class="s14">0</span><span class="s7">]</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s13">BASE_URL</span><span class="s7">}${</span><span class="s1">endpoint</span><span class="s7">.</span><span class="s1">split</span><span class="s7">(</span><span class="s8">'?'</span><span class="s7">)[</span><span class="s14">0</span><span class="s7">]}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>logMessage</span><span class="s7">(</span><span class="s8">`Error API (</span><span class="s7">${</span><span class="s1">logEndpoint</span><span class="s7">}</span><span class="s8">): </span><span class="s7">${</span><span class="s1">data</span><span class="s7">.</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8"> (Código: </span><span class="s7">${</span><span class="s1">data</span><span class="s7">.</span><span class="s1">error</span><span class="s7">.</span><span class="s1">code</span><span class="s7">}</span><span class="s8">)`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">throw</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Error</span><span class="s7">(</span><span class="s1">data</span><span class="s7">.</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> logEndpoint </span><span class="s7">=</span><span class="s1"> endpoint</span><span class="s7">.</span><span class="s1">startsWith</span><span class="s7">(</span><span class="s8">'http'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> endpoint</span><span class="s7">.</span><span class="s1">split</span><span class="s7">(</span><span class="s8">'?'</span><span class="s7">)[</span><span class="s14">0</span><span class="s7">]</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s13">BASE_URL</span><span class="s7">}${</span><span class="s1">endpoint</span><span class="s7">.</span><span class="s1">split</span><span class="s7">(</span><span class="s8">'?'</span><span class="s7">)[</span><span class="s14">0</span><span class="s7">]}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s8">`Error de red o llamada API (</span><span class="s7">${</span><span class="s1">logEndpoint</span><span class="s7">}</span><span class="s8">): </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">throw</span><span class="s1"> error</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Funciones Principales ---</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> getUserPages</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>userAccessToken </span><span class="s7">=</span><span class="s1"> accessTokenInput</span><span class="s7">.</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">userAccessToken</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">'Por favor, ingresa tu Token de Acceso de Usuario.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'warning'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>logMessage</span><span class="s7">(</span><span class="s1">'Obteniendo tus páginas administradas...'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>fetchPagesBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>pagesLoader</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>pageSelectionSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> allPages </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> nextUrl </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`/me/accounts`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> currentParams </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> limit</span><span class="s7">:</span><span class="s1"> </span><span class="s14">100</span><span class="s7">,</span><span class="s1"> fields</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'id,name,access_token'</span><span class="s1"> </span><span class="s7">};</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">while</span><span class="s1"> </span><span class="s7">(</span><span class="s1">nextUrl</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>logMessage</span><span class="s7">(</span><span class="s8">`Obteniendo lote de páginas desde: </span><span class="s7">${</span><span class="s1">nextUrl</span><span class="s7">.</span><span class="s1">startsWith</span><span class="s7">(</span><span class="s8">'/'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s13">BASE_URL</span><span class="s7">+</span><span class="s1">nextUrl </span><span class="s7">:</span><span class="s1"> nextUrl</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> makeApiCall</span><span class="s7">(</span><span class="s1">nextUrl</span><span class="s7">,</span><span class="s1"> currentParams</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'GET'</span><span class="s7">,</span><span class="s1"> </span><span class="s11">null</span><span class="s7">,</span><span class="s1"> userAccessToken</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">data</span><span class="s7">.</span><span class="s1">data </span><span class="s7">&amp;&amp;</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">data</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>allPages</span><span class="s7">.</span><span class="s1">push</span><span class="s7">(...</span><span class="s1">data</span><span class="s7">.</span><span class="s1">data</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>pageCountSpan</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> allPages</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">nextUrl</span><span class="s7">.</span><span class="s1">startsWith</span><span class="s7">(</span><span class="s8">'/'</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span>logMessage</span><span class="s7">(</span><span class="s1">'No se encontraron más páginas en este lote.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">data</span><span class="s7">.</span><span class="s1">paging </span><span class="s7">&amp;&amp;</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">paging</span><span class="s7">.</span><span class="s1">next</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>nextUrl </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">paging</span><span class="s7">.</span><span class="s1">next</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>currentParams </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{};</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>nextUrl </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>pagesSelect</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'&lt;option value=""&gt;-- Selecciona una Página --&lt;/option&gt;'</span><span class="s7">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">allPages</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>allPages</span><span class="s7">.</span><span class="s1">sort</span><span class="s7">((</span><span class="s1">a</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> a</span><span class="s7">.</span><span class="s1">name</span><span class="s7">.</span><span class="s1">localeCompare</span><span class="s7">(</span><span class="s1">b</span><span class="s7">.</span><span class="s1">name</span><span class="s7">));</span><span class="s1"> </span><span class="s10">// Ordenar páginas alfabéticamente</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>allPages</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">page </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> option </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'option'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>option</span><span class="s7">.</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s1">page</span><span class="s7">.</span><span class="s1">id</span><span class="s7">}</span><span class="s8">|</span><span class="s7">${</span><span class="s1">page</span><span class="s7">.</span><span class="s1">access_token</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>option</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s1">page</span><span class="s7">.</span><span class="s1">name</span><span class="s7">}</span><span class="s8"> (ID: </span><span class="s7">${</span><span class="s1">page</span><span class="s7">.</span><span class="s1">id</span><span class="s7">}</span><span class="s8">)`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>pagesSelect</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">option</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>pageSelectionSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>logMessage</span><span class="s7">(</span><span class="s1">`Se encontraron un total de </span><span class="s7">${</span><span class="s4">allPages</span><span class="s7">.</span><span class="s4">length</span><span class="s7">}</span><span class="s1"> página(s). Por favor, selecciona una.`</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'success'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>logMessage</span><span class="s7">(</span><span class="s1">'No se encontraron páginas o hubo un error al obtenerlas.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'warning'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s8">`Error al obtener páginas: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">finally</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>fetchPagesBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>pagesLoader</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> getPageInfo</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> selectedOptionValue </span><span class="s7">=</span><span class="s1"> pagesSelect</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">selectedOptionValue</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">'Por favor, selecciona una página primero.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'warning'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">[</span><span class="s1">selectedPageId</span><span class="s7">,</span><span class="s1"> selectedPageAccessToken</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> selectedOptionValue</span><span class="s7">.</span><span class="s1">split</span><span class="s7">(</span><span class="s8">'|'</span><span class="s7">);</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">selectedPageId </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">selectedPageAccessToken</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">'Error al obtener el ID o token de la página seleccionada. Asegúrate de que el token de usuario sea válido.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>logMessage</span><span class="s7">(</span><span class="s1">`Obteniendo información para la página ID: </span><span class="s7">${</span><span class="s4">selectedPageId</span><span class="s7">}</span><span class="s1">...`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>pageInfoSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>postDeletionSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> params </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>fields</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'name,about,category,fan_count,link,website,picture{url}'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> makeApiCall</span><span class="s7">(</span><span class="s8">`/</span><span class="s7">${</span><span class="s1">selectedPageId</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> params</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'GET'</span><span class="s7">,</span><span class="s1"> </span><span class="s11">null</span><span class="s7">,</span><span class="s1"> selectedPageAccessToken</span><span class="s7">);</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>pageInfoContent</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Nombre:&lt;/strong&gt; </span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">name </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'N/D'</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Categoría:&lt;/strong&gt; </span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">category </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'N/D'</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Fans:&lt;/strong&gt; </span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">fan_count </span><span class="s7">?</span><span class="s4"> data</span><span class="s7">.</span><span class="s4">fan_count</span><span class="s7">.</span><span class="s4">toLocaleString</span><span class="s7">(</span><span class="s1">'es-ES'</span><span class="s7">)</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'N/D'</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Enlace FB:&lt;/strong&gt; &lt;a href="</span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">link</span><span class="s7">}</span><span class="s1">" target="_blank" class="text-blue-500 hover:underline"&gt;</span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">link </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'N/D'</span><span class="s7">}</span><span class="s1">&lt;/a&gt;&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p&gt;&lt;strong&gt;Sitio Web:&lt;/strong&gt; </span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">website </span><span class="s7">?</span><span class="s4"> </span><span class="s1">`&lt;a href="</span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">website</span><span class="s7">}</span><span class="s1">" target="_blank" class="text-blue-500 hover:underline"&gt;</span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">website</span><span class="s7">}</span><span class="s1">&lt;/a&gt;`</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'N/D'</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">picture </span><span class="s7">?</span><span class="s4"> </span><span class="s1">`&lt;img src="</span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">picture</span><span class="s7">.</span><span class="s4">data</span><span class="s7">.</span><span class="s4">url</span><span class="s7">}</span><span class="s1">" alt="</span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1">" class="w-16 h-16 rounded-full mt-2 shadow"&gt;`</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">''</span><span class="s7">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="mt-2 text-xs italic"&gt;&lt;strong&gt;Acerca de:&lt;/strong&gt; </span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">about </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'N/D'</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>pageInfoSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>postDeletionSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">`Información de la página '</span><span class="s7">${</span><span class="s4">data</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1">' cargada. Ahora puedes seleccionar posts para eliminar.`</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'success'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>pageInfoSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>postDeletionSection</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> getPostsToPotentiallyDelete</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">selectedPageId </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">selectedPageAccessToken</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">'No hay página seleccionada o falta el token de acceso de la página.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> postTypeFilter </span><span class="s7">=</span><span class="s1"> postTypeSelect</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> dateLimitStr </span><span class="s7">=</span><span class="s1"> dateLimitInput</span><span class="s7">.</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> dateLimit </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">dateLimitStr</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>dateLimit </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Date</span><span class="s7">(</span><span class="s1">dateLimitStr </span><span class="s7">+</span><span class="s1"> </span><span class="s8">"T00:00:00Z"</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isNaN</span><span class="s7">(</span><span class="s1">dateLimit</span><span class="s7">.</span><span class="s1">getTime</span><span class="s7">()))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span>logMessage</span><span class="s7">(</span><span class="s1">'Formato de fecha inválido. Por favor, usa AAAA-MM-DD.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>logMessage</span><span class="s7">(</span><span class="s1">'Error al procesar la fecha límite. Usa AAAA-MM-DD.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>logMessage</span><span class="s7">(</span><span class="s1">`Obteniendo posts para la página ID </span><span class="s7">${</span><span class="s4">selectedPageId</span><span class="s7">}</span><span class="s1">... Tipo: </span><span class="s7">${</span><span class="s4">postTypeFilter</span><span class="s7">}</span><span class="s1">, Antes de: </span><span class="s7">${</span><span class="s4">dateLimit </span><span class="s7">?</span><span class="s4"> dateLimit</span><span class="s7">.</span><span class="s4">toISOString</span><span class="s7">().</span><span class="s4">split</span><span class="s7">(</span><span class="s1">'T'</span><span class="s7">)[</span><span class="s14">0</span><span class="s7">]</span><span class="s4"> </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'N/A'</span><span class="s7">}</span><span class="s1"> (API v12.0 - Campos Estrictos)`</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>fetchPostsToDeleteBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>fetchPostsLoader</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>postsToDelete </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> postsFetchedCount </span><span class="s7">=</span><span class="s1"> </span><span class="s14">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> currentLogContent </span><span class="s7">=</span><span class="s1"> logContent</span><span class="s7">.</span><span class="s1">innerHTML</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> endpoint </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`/</span><span class="s7">${</span><span class="s1">selectedPageId</span><span class="s7">}</span><span class="s8">/posts`</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> paramsForFeed </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>fields</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'id,message,attachments{media_type},created_time'</span><span class="s7">,</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>limit</span><span class="s7">:</span><span class="s1"> </span><span class="s13">POST_FETCH_LIMIT</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>logContent</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> currentLogContent</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> loadingMsg </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'p'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadingMsg</span><span class="s7">.</span><span class="s1">id </span><span class="s7">=</span><span class="s1"> </span><span class="s8">"loadingPostsMsg"</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>loadingMsg</span><span class="s7">.</span><span class="s4">textContent </span><span class="s7">=</span><span class="s4"> </span><span class="s1">"Cargando posts... esto puede tardar unos momentos."</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadingMsg</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-yellow-300'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>logContent</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">loadingMsg</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>logContent</span><span class="s7">.</span><span class="s1">scrollTop </span><span class="s7">=</span><span class="s1"> logContent</span><span class="s7">.</span><span class="s1">scrollHeight</span><span class="s7">;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> currentParams </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s7">...</span><span class="s1">paramsForFeed </span><span class="s7">};</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> hasMorePages </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">while</span><span class="s1"> </span><span class="s7">(</span><span class="s1">endpoint </span><span class="s7">&amp;&amp;</span><span class="s1"> hasMorePages</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> response </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> makeApiCall</span><span class="s7">(</span><span class="s1">endpoint</span><span class="s7">,</span><span class="s1"> currentParams</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'GET'</span><span class="s7">,</span><span class="s1"> </span><span class="s11">null</span><span class="s7">,</span><span class="s1"> selectedPageAccessToken</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> fetchedBatch </span><span class="s7">=</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">data </span><span class="s7">||</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>postsFetchedCount </span><span class="s7">+=</span><span class="s1"> fetchedBatch</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> loadingPostsMsgElem </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'loadingPostsMsg'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">loadingPostsMsgElem</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                         </span>loadingPostsMsgElem</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`Obtenidos </span><span class="s7">${</span><span class="s1">postsFetchedCount</span><span class="s7">}</span><span class="s8"> posts. Procesando y buscando más...`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">for</span><span class="s1"> </span><span class="s7">(</span><span class="s11">const</span><span class="s1"> post </span><span class="s11">of</span><span class="s1"> fetchedBatch</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> postCreatedTime </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Date</span><span class="s7">(</span><span class="s1">post</span><span class="s7">.</span><span class="s1">created_time</span><span class="s7">);</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">dateLimit </span><span class="s7">&amp;&amp;</span><span class="s1"> postCreatedTime </span><span class="s7">&gt;=</span><span class="s1"> dateLimit</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">continue</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">let</span><span class="s1"> matchesType </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> attachments </span><span class="s7">=</span><span class="s1"> post</span><span class="s7">.</span><span class="s1">attachments</span><span class="s7">?.</span><span class="s1">data </span><span class="s7">||</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> firstAttachmentMediaType </span><span class="s7">=</span><span class="s1"> attachments</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s14">0</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> attachments</span><span class="s7">[</span><span class="s14">0</span><span class="s7">].</span><span class="s1">media_type </span><span class="s7">:</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">let</span><span class="s1"> effectivePostType </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'status'</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">firstAttachmentMediaType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'photo'</span><span class="s7">)</span><span class="s1"> effectivePostType </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'photo'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">firstAttachmentMediaType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'video'</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> firstAttachmentMediaType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'video_inline'</span><span class="s7">)</span><span class="s1"> effectivePostType </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'video'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">firstAttachmentMediaType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'link'</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> firstAttachmentMediaType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'share'</span><span class="s7">)</span><span class="s1"> effectivePostType </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'link'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">attachments</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> effectivePostType </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'text'</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postTypeFilter </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'all'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>matchesType </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postTypeFilter </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'photo'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> effectivePostType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'photo'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>matchesType </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postTypeFilter </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'link'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> effectivePostType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'link'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>matchesType </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postTypeFilter </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'video'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> effectivePostType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'video'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>matchesType </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postTypeFilter </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'text'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> effectivePostType </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'text'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>matchesType </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">matchesType</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>postsToDelete</span><span class="s7">.</span><span class="s1">push</span><span class="s7">({</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>id</span><span class="s7">:</span><span class="s1"> post</span><span class="s7">.</span><span class="s1">id</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>message</span><span class="s7">:</span><span class="s1"> post</span><span class="s7">.</span><span class="s1">message </span><span class="s7">?</span><span class="s1"> post</span><span class="s7">.</span><span class="s1">message</span><span class="s7">.</span><span class="s1">substring</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">70</span><span class="s7">)</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> </span><span class="s7">(</span><span class="s1">post</span><span class="s7">.</span><span class="s1">message</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s14">70</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s8">'...'</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">''</span><span class="s7">)</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s8">'Sin mensaje'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>created_time</span><span class="s7">:</span><span class="s1"> post</span><span class="s7">.</span><span class="s1">created_time</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>type</span><span class="s7">:</span><span class="s1"> effectivePostType</span><span class="s7">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>media_type</span><span class="s7">:</span><span class="s1"> firstAttachmentMediaType </span><span class="s7">||</span><span class="s1"> </span><span class="s8">'N/D'</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">response</span><span class="s7">.</span><span class="s1">paging </span><span class="s7">&amp;&amp;</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">paging</span><span class="s7">.</span><span class="s1">next</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>endpoint </span><span class="s7">=</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">paging</span><span class="s7">.</span><span class="s1">next</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>currentParams </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{};</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>endpoint </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>hasMorePages </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                     </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;=</span><span class="s1"> </span><span class="s14">700</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span>logMessage</span><span class="s7">(</span><span class="s1">"Se alcanzó el límite de 700 posts coincidentes para previsualización. Deteniendo escaneo para evitar problemas de rendimiento del navegador. Puedes eliminar estos y escanear de nuevo si es necesario."</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"warning"</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> loadingPostsMsgElem </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'loadingPostsMsg'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">loadingPostsMsgElem</span><span class="s7">)</span><span class="s1"> loadingPostsMsgElem</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">();</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">`Previsualización: Se encontraron </span><span class="s7">${</span><span class="s4">postsToDelete</span><span class="s7">.</span><span class="s4">length</span><span class="s7">}</span><span class="s1"> posts que coinciden con tus criterios.`</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'success'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>logMessage</span><span class="s7">(</span><span class="s1">"--- Posts a Eliminar (Primeros 10 de la previsualización) ---"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"info"</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>postsToDelete</span><span class="s7">.</span><span class="s1">slice</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">10</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>logMessage</span><span class="s7">(</span><span class="s8">`ID: </span><span class="s7">${</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">}</span><span class="s8">, Tipo Efectivo: </span><span class="s7">${</span><span class="s1">p</span><span class="s7">.</span><span class="s1">type</span><span class="s7">}</span><span class="s8">, Media Adj: </span><span class="s7">${</span><span class="s1">p</span><span class="s7">.</span><span class="s1">media_type</span><span class="s7">}</span><span class="s8">, Creado: </span><span class="s7">${</span><span class="s11">new</span><span class="s1"> </span><span class="s13">Date</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">created_time</span><span class="s7">).</span><span class="s1">toLocaleDateString</span><span class="s7">(</span><span class="s8">'es-ES'</span><span class="s7">)}</span><span class="s8">, Msg: "</span><span class="s7">${</span><span class="s1">p</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">"`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">"info"</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s7">(</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s14">10</span><span class="s7">)</span><span class="s1"> logMessage</span><span class="s7">(</span><span class="s8">`...y </span><span class="s7">${</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length </span><span class="s7">-</span><span class="s1"> </span><span class="s14">10</span><span class="s7">}</span><span class="s8"> más.`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">"info"</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`Eliminar </span><span class="s7">${</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length</span><span class="s7">}</span><span class="s8"> Posts`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>logMessage</span><span class="s7">(</span><span class="s1">'No se encontraron posts que coincidan con tus criterios para eliminar.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> loadingPostsMsgElem </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'loadingPostsMsg'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">loadingPostsMsgElem</span><span class="s7">)</span><span class="s1"> loadingPostsMsgElem</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s8">`Error al obtener posts: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">finally</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>fetchPostsToDeleteBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>fetchPostsLoader</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> deleteSelectedPosts</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s14">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">'No hay posts seleccionados para eliminar.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'warning'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s4"> confirmed </span><span class="s7">=</span><span class="s4"> </span><span class="s11">await</span><span class="s4"> showConfirmationModal</span><span class="s7">(</span><span class="s1">`¿Estás seguro de que quieres eliminar </span><span class="s7">${</span><span class="s4">postsToDelete</span><span class="s7">.</span><span class="s4">length</span><span class="s7">}</span><span class="s1"> posts? Esta acción no se puede deshacer.`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">confirmed</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s1">'Eliminación cancelada por el usuario.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>logMessage</span><span class="s7">(</span><span class="s8">`Iniciando eliminación de </span><span class="s7">${</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length</span><span class="s7">}</span><span class="s8"> posts...`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>deleteLoader</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> deletedCount </span><span class="s7">=</span><span class="s1"> </span><span class="s14">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> failedCount </span><span class="s7">=</span><span class="s1"> </span><span class="s14">0</span><span class="s7">;</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> batchSize </span><span class="s7">=</span><span class="s1"> </span><span class="s14">5</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">for</span><span class="s1"> </span><span class="s7">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s7">=</span><span class="s1"> </span><span class="s14">0</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">&lt;</span><span class="s1"> postsToDelete</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">+=</span><span class="s1"> batchSize</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> batch </span><span class="s7">=</span><span class="s1"> postsToDelete</span><span class="s7">.</span><span class="s1">slice</span><span class="s7">(</span><span class="s1">i</span><span class="s7">,</span><span class="s1"> i </span><span class="s7">+</span><span class="s1"> batchSize</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> deletePromises </span><span class="s7">=</span><span class="s1"> batch</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">post </span><span class="s7">=&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>makeApiCall</span><span class="s7">(</span><span class="s8">`/</span><span class="s7">${</span><span class="s1">post</span><span class="s7">.</span><span class="s1">id</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{},</span><span class="s1"> </span><span class="s8">'DELETE'</span><span class="s7">,</span><span class="s1"> </span><span class="s11">null</span><span class="s7">,</span><span class="s1"> selectedPageAccessToken</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">.</span><span class="s1">then</span><span class="s7">(</span><span class="s1">response </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">response</span><span class="s7">.</span><span class="s1">success</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>deletedCount</span><span class="s7">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>logMessage</span><span class="s7">(</span><span class="s8">`Post </span><span class="s7">${</span><span class="s1">post</span><span class="s7">.</span><span class="s1">id</span><span class="s7">}</span><span class="s8"> (Tipo Efectivo: </span><span class="s7">${</span><span class="s1">post</span><span class="s7">.</span><span class="s1">type</span><span class="s7">}</span><span class="s8">, Media Adj: </span><span class="s7">${</span><span class="s1">post</span><span class="s7">.</span><span class="s1">media_type</span><span class="s7">}</span><span class="s8">, Creado: </span><span class="s7">${</span><span class="s11">new</span><span class="s1"> </span><span class="s13">Date</span><span class="s7">(</span><span class="s1">post</span><span class="s7">.</span><span class="s1">created_time</span><span class="s7">).</span><span class="s1">toLocaleDateString</span><span class="s7">(</span><span class="s8">'es-ES'</span><span class="s7">)}</span><span class="s8">) eliminado exitosamente. [</span><span class="s7">${</span><span class="s1">deletedCount</span><span class="s7">}</span><span class="s8">/</span><span class="s7">${</span><span class="s1">postsToDelete</span><span class="s7">.</span><span class="s1">length</span><span class="s7">}</span><span class="s8">]`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'success'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>failedCount</span><span class="s7">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>logMessage</span><span class="s7">(</span><span class="s8">`Fallo al eliminar post </span><span class="s7">${</span><span class="s1">post</span><span class="s7">.</span><span class="s1">id</span><span class="s7">}</span><span class="s8">. Respuesta: </span><span class="s7">${</span><span class="s13">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">response</span><span class="s7">)}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">.</span><span class="s11">catch</span><span class="s7">(</span><span class="s1">error </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>failedCount</span><span class="s7">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>logMessage</span><span class="s7">(</span><span class="s8">`Error al eliminar post </span><span class="s7">${</span><span class="s1">post</span><span class="s7">.</span><span class="s1">id</span><span class="s7">}</span><span class="s8">: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message </span><span class="s7">||</span><span class="s1"> </span><span class="s8">'Error desconocido'</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'error'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">await</span><span class="s1"> </span><span class="s13">Promise</span><span class="s7">.</span><span class="s1">allSettled</span><span class="s7">(</span><span class="s1">deletePromises</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>logMessage</span><span class="s7">(</span><span class="s8">`Lote </span><span class="s7">${</span><span class="s13">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">i</span><span class="s7">/</span><span class="s1">batchSize</span><span class="s7">)+</span><span class="s14">1</span><span class="s7">}</span><span class="s8"> procesado. Eliminados hasta ahora: </span><span class="s7">${</span><span class="s1">deletedCount</span><span class="s7">}</span><span class="s8">, Fallidos: </span><span class="s7">${</span><span class="s1">failedCount</span><span class="s7">}</span><span class="s8">.`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                 </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">i </span><span class="s7">+</span><span class="s1"> batchSize </span><span class="s7">&lt;</span><span class="s1"> postsToDelete</span><span class="s7">.</span><span class="s1">length</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">await</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Promise</span><span class="s7">(</span><span class="s1">resolve </span><span class="s7">=&gt;</span><span class="s1"> setTimeout</span><span class="s7">(</span><span class="s1">resolve</span><span class="s7">,</span><span class="s1"> </span><span class="s14">1000</span><span class="s7">));</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>logMessage</span><span class="s7">(</span><span class="s1">`Eliminación completa. Exitosos: </span><span class="s7">${</span><span class="s4">deletedCount</span><span class="s7">}</span><span class="s1">. Fallidos: </span><span class="s7">${</span><span class="s4">failedCount</span><span class="s7">}</span><span class="s1">.`</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>deleteLoader</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>postsToDelete </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> showConfirmationModal</span><span class="s7">(</span><span class="s1">message</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">return</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Promise</span><span class="s7">((</span><span class="s1">resolve</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> modalOverlay </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>modalOverlay</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> modalContent </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>modalContent</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'bg-white p-6 rounded-lg shadow-xl max-w-sm w-full'</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> messageP </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'p'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageP</span><span class="s7">.</span><span class="s1">className </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'text-gray-700 text-lg mb-6'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageP</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> message</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> buttonsDiv </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'div'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>buttonsDiv</span><span class="s7">.</span><span class="s1">className </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'flex justify-end space-x-3'</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> cancelButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'button'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>cancelButton</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>cancelButton</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Cancelar'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>cancelButton</span><span class="s7">.</span><span class="s1">onclick </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">removeChild</span><span class="s7">(</span><span class="s1">modalOverlay</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>resolve</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> confirmButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'button'</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>confirmButton</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>confirmButton</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Confirmar Eliminación'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>confirmButton</span><span class="s7">.</span><span class="s1">onclick </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">removeChild</span><span class="s7">(</span><span class="s1">modalOverlay</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>resolve</span><span class="s7">(</span><span class="s11">true</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>buttonsDiv</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">cancelButton</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>buttonsDiv</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">confirmButton</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>modalContent</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">messageP</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>modalContent</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">buttonsDiv</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>modalOverlay</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">modalContent</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">modalOverlay</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>fetchPagesBtn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> getUserPages</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>selectPageBtn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> getPageInfo</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>fetchPostsToDeleteBtn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> getPostsToPotentiallyDelete</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>deletePostsBtn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> deleteSelectedPosts</span><span class="s7">);</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span>logMessage</span><span class="s7">(</span><span class="s1">"Funcionalidades PWA (manifest y service worker básico) inicializadas. Podrías 'Añadir a Pantalla de Inicio'."</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"info"</span><span class="s7">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span>logMessage</span><span class="s7">(</span><span class="s1">"Por favor, crea los archivos 'sw.js', 'icon-192x192.png', y 'icon-512x512.png' para la funcionalidad PWA completa."</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"warning"</span><span class="s7">);</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1">```</span></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p6"><span class="s12"></span><br></p>
<p class="p4"><span class="s1">```json</span></p>
<p class="p4"><span class="s1">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"name": "Eliminador de Posts FB",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"short_name": "EliminarPosts",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"start_url": ".",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"display": "standalone",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"background_color": "#ffffff",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"theme_color": "#3b82f6",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"description": "Administra y elimina publicaciones de tus Páginas de Facebook.",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>"icons": [</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"src": "icon-192x192.png",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"sizes": "192x192",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"type": "image/png",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"purpose": "any maskable"</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"src": "icon-512x512.png",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"sizes": "512x512",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"type": "image/png",</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>"purpose": "any maskable"</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>]</span></p>
<p class="p4"><span class="s1">}</span></p>
<p class="p6"><span class="s12"></span><br></p>
</body>
</html>
